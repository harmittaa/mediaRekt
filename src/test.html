<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta httpequiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Image</title>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap -->
    <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../bower_components/rrssb/css/rrssb.css" rel=stylesheet>
    <link rel="stylesheet" type="text/css" href="scripts/main.css">
    <link href='https://fonts.googleapis.com/css?family=PT+Sans&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
</head>

<body ng-app="mediaRekt" ng-controller="ImageController">
    <navbar></navbar>
    <!--MODAL STUFF-->

    <!--UPLOAD IMAGE-->
    <upload-modal></upload-modal>

    <!--SIGN UP-->
    <register-modal></register-modal>

    <!--LOGIN-->
    <login-modal></login-modal>

    <!--SEARCH-->
    <search-modal></search-modal>

    <!--FORGOT PASSWORD?!-->
    <forgot-password-modal></forgot-password-modal>

    <br>
    <br>
    <h1 id="imageTitle">{{ currentContent.data.title }}</h1>
    <h4 id="imageTitle">by user: {{ currentContent.data.userId }}</h4>
    <!--<div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <img id="imageToEdit" class="img-thumbnail" ng-src="http://util.mw.metropolia.fi/uploads/{{ currentContent.data.path }}">
                <canvas id="testCanvas" width="200" height="200"></canvas>
            </div>
        </div>
    </div>
    <p id="imageDescription">{{ currentContent.data.description }}</p>-->



    <div ng-if="currentContent.data.mimeType.substr(0, 5) == 'image'">
        <img id="imageToEdit" class="img-thumbnail" ng-src="http://util.mw.metropolia.fi/uploads/{{ currentContent.data.path }}">
        <!--<canvas id="testCanvas" width="200" height="200"></canvas>-->
        <p id="imageDescription">{{ currentContent.data.description }}</p>
    </div>
    <div class="embed-responsive embed-responsive-16by9" ng-if="currentContent.data.mimeType.substr(0, 5) == 'video'">
        <video ng-src="{{ trustURL('http://util.mw.metropolia.fi/uploads/' +  currentContent.data.path)}}" controls>
        <p id="imageDescription">{{ currentContent.data.description }}</p>
    </div>
    <div ng-if="currentContent.data.mimeType.substr(0, 5) == 'audio'">
       <audio controls>
        <source ng-src="{{ trustURL('http://util.mw.metropolia.fi/uploads/' +  currentContent.data.path)}}" type="{{ file.mimeType }}">
        </audio>
        <p id="imageDescription">{{ currentContent.data.description }}</p>
    </div>

    <div class="container">
        <div class="row">
            <ul class="rrssb-buttons" id="shareButtons">

                <li class="rrssb-facebook">
                    <!--  Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header:
              https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
                    <a href="https://www.facebook.com/sharer/sharer.php?u=http://kurtnoble.com/labs/rrssb/index.html" class="popup">
                        <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"/></svg></span>
                        <span class="rrssb-text">facebook</span>
                    </a>
                </li>

                <li class="rrssb-whatsapp">
                    <!-- Replace href with your Meta and URL information  -->
                    <a href="" class="popup">
                        <span class="rrssb-icon">
                              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                               width="90px" height="90px" viewBox="0 0 90 90" enable-background="new 0 0 90 90;" xml:space="preserve">
                               <path d="M90,43.841c0,24.213-19.779,43.841-44.182,43.841c-7.747,0-15.025-1.98-21.357-5.455L0,90l7.975-23.522
                                c-4.023-6.606-6.34-14.354-6.34-22.637C1.635,19.628,21.416,0,45.818,0C70.223,0,90,19.628,90,43.841z M45.818,6.982
                                c-20.484,0-37.146,16.535-37.146,36.859c0,8.065,2.629,15.534,7.076,21.61L11.107,79.14l14.275-4.537
                                c5.865,3.851,12.891,6.097,20.437,6.097c20.481,0,37.146-16.533,37.146-36.857S66.301,6.982,45.818,6.982z M68.129,53.938
                                c-0.273-0.447-0.994-0.717-2.076-1.254c-1.084-0.537-6.41-3.138-7.4-3.495c-0.993-0.358-1.717-0.538-2.438,0.537
                                c-0.721,1.076-2.797,3.495-3.43,4.212c-0.632,0.719-1.263,0.809-2.347,0.271c-1.082-0.537-4.571-1.673-8.708-5.333
                                c-3.219-2.848-5.393-6.364-6.025-7.441c-0.631-1.075-0.066-1.656,0.475-2.191c0.488-0.482,1.084-1.255,1.625-1.882
                                c0.543-0.628,0.723-1.075,1.082-1.793c0.363-0.717,0.182-1.344-0.09-1.883c-0.27-0.537-2.438-5.825-3.34-7.977
                                c-0.902-2.15-1.803-1.792-2.436-1.792c-0.631,0-1.354-0.09-2.076-0.09c-0.722,0-1.896,0.269-2.889,1.344
                                c-0.992,1.076-3.789,3.676-3.789,8.963c0,5.288,3.879,10.397,4.422,11.113c0.541,0.716,7.49,11.92,18.5,16.223
                                C58.2,65.771,58.2,64.336,60.186,64.156c1.984-0.179,6.406-2.599,7.312-5.107C68.398,56.537,68.398,54.386,68.129,53.938z"/>
                              </svg>
                           </span>
                        <span class="rrssb-text">Whatsapp</span>
                    </a>
                </li>

                <li class="rrssb-twitter">
                    <!-- Replace href with your Meta and URL information  -->
                    <a href="https://twitter.com/intent/tweet?text={{ currentContent.data.title }}" class="popup">
                        <span class="rrssb-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
              <path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62c-3.122.162-6.22-.646-8.86-2.32 2.702.18 5.375-.648 7.507-2.32-2.072-.248-3.818-1.662-4.49-3.64.802.13 1.62.077 2.4-.154-2.482-.466-4.312-2.586-4.412-5.11.688.276 1.426.408 2.168.387-2.135-1.65-2.73-4.62-1.394-6.965C5.574 7.816 9.54 9.84 13.802 10.07c-.842-2.738.694-5.64 3.434-6.48 2.018-.624 4.212.043 5.546 1.682 1.186-.213 2.318-.662 3.33-1.317-.386 1.256-1.248 2.312-2.4 2.942 1.048-.106 2.07-.394 3.02-.85-.458 1.182-1.343 2.15-2.48 2.71z"
              />
            </svg>
          </span>
                        <span class="rrssb-text">twitter</span>
                    </a>
                </li>
                <li class="rrssb-reddit">
                    <a href="http://www.reddit.com/submit?url=http://www.kurtnoble.com/labs/rrssb/&title=Check%20out%20how%20ridiculously%20responsive%20these%20social%20buttons%20are&text=Check%20out%20how%20ridiculously%20responsive%20these%20social%20buttons%20are">
                        <span class="rrssb-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
              <path d="M11.794 15.316c0-1.03-.835-1.895-1.866-1.895-1.03 0-1.893.866-1.893 1.896s.863 1.9 1.9 1.9c1.023-.016 1.865-.916 1.865-1.9zM18.1 13.422c-1.03 0-1.895.864-1.895 1.895 0 1 .9 1.9 1.9 1.865 1.03 0 1.87-.836 1.87-1.865-.006-1.017-.875-1.917-1.875-1.895zM17.527 19.79c-.678.68-1.826 1.007-3.514 1.007h-.03c-1.686 0-2.834-.328-3.51-1.005-.264-.265-.693-.265-.958 0-.264.265-.264.7 0 1 .943.9 2.4 1.4 4.5 1.402.005 0 0 0 0 0 .005 0 0 0 0 0 2.066 0 3.527-.46 4.47-1.402.265-.264.265-.693.002-.958-.267-.334-.688-.334-.988-.043z"
              />
              <path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237-.792 0-1.517.287-2.08.76-2.04-1.294-4.647-2.068-7.44-2.218l1.484-4.69 4.062.955c.07 1.4 1.3 2.6 2.7 2.555 1.488 0 2.695-1.208 2.695-2.695C25.88 3.2 24.7 2 23.2 2c-1.06 0-1.98.616-2.42 1.508l-4.633-1.09c-.344-.082-.693.117-.803.454l-1.793 5.7C10.55 8.6 7.7 9.4 5.6 10.75c-.594-.45-1.3-.75-2.1-.72-1.785 0-3.237 1.45-3.237 3.2 0 1.1.6 2.1 1.4 2.69-.04.27-.06.55-.06.83 0 2.3 1.3 4.4 3.7 5.9 2.298 1.5 5.3 2.3 8.6 2.325 3.227 0 6.27-.825 8.57-2.325 2.387-1.56 3.7-3.66 3.7-5.917 0-.26-.016-.514-.05-.768.965-.465 1.577-1.565 1.577-2.698zm-4.52-9.912c.74 0 1.3.6 1.3 1.3 0 .738-.6 1.34-1.34 1.34s-1.343-.602-1.343-1.34c.04-.655.596-1.255 1.396-1.3zM1.646 13.3c0-1.038.845-1.882 1.883-1.882.31 0 .6.1.9.21-1.05.867-1.813 1.86-2.26 2.9-.338-.328-.57-.728-.57-1.26zm20.126 8.27c-2.082 1.357-4.863 2.105-7.83 2.105-2.968 0-5.748-.748-7.83-2.105-1.99-1.3-3.087-3-3.087-4.782 0-1.784 1.097-3.484 3.088-4.784 2.08-1.358 4.86-2.106 7.828-2.106 2.967 0 5.7.7 7.8 2.106 1.99 1.3 3.1 3 3.1 4.784C24.86 18.6 23.8 20.3 21.8 21.57zm4.014-6.97c-.432-1.084-1.19-2.095-2.244-2.977.273-.156.59-.245.928-.245 1.036 0 1.9.8 1.9 1.9-.016.522-.27 1.022-.57 1.327z"
              />
            </svg>
          </span>
                        <span class="rrssb-text">reddit</span>
                    </a>
                </li>
                <li class="rrssb-googleplus">
                    <!-- Replace href with your meta and URL information.  -->
                    <a href="https://plus.google.com/share?url=Check%20out%20how%20ridiculously%20responsive%20these%20social%20buttons%20are%20http://kurtnoble.com/labs/rrssb/index.html" class="popup">
                        <span class="rrssb-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"/></svg>            </span>
                        <span class="rrssb-text">google+</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>





    <!-- FILTER BUTTON -->
    <div class="btn-group">
        <div class="dropdown" id="filterButton">
            <button class="btn btn-success dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Filters
                <span class="caret"></span></button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#" ng-click="blackAndWhite()">BlackandWhite</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#" ng-click="addText()">Text</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#" ng-click="glfxTest()">GLFX</a></li>
                <li role="presentation" class="divider"></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#" ng-click="saveImage()">Save</a></li>
            </ul>
        </div>



        <!--LIKE BUTTON-->

        <div class="row" ng-controller="LikeController" id="test">
            <div class="col-md-6 col-md-offset-3">
                <button id="likeButton" ng-click="toggleLike()">
                    <span id="likeSpan" class="glyphicon glyphicon-heart" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--ADD NEW COMMENT-->
    <div class="container" ng-controller="AddCommentController">
        <div class="row">
            <div id="commentBox" class="col-md-6 col-md-offset-3">
                <form id="commentForm">
                    <textarea class="form-control" rows="3" name="comment" ng-model="comment" placeholder="Write comment here"></textarea>
                    <button class="btn btn-success" ng-click="addComment()">Comment</button>
                </form>
            </div>
        </div>
    </div>

    <!--COMMENTS-->
    <div ng-controller="CommentController">
        <div id="commentContainer" class="container" ng-repeat="file in commentData">
            <div class="row">
                <div id="commentHeader" class="col-md-6 col-md-offset-3">
                    <h4 id="commentInfo">{{ file.username }} {{ file.time }}</h4>
                </div>
            </div>
            <div class="row">
                <div id="commentContent" class="col-md-6 col-md-offset-3">
                    <p>{{ file.comment }}</p>
                </div>
            </div>
        </div>
    </div>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../bower_components/rrssb/js/rrssb.js"></script>

    <!-- Include angular files & plugins -->
    <script src="../bower_components/angular/angular.js"></script>

    <!-- Include My App's JS file(s)-->
    <script src="scripts/app.js"></script>
    <script src="scripts/Controllers/navController.js"></script>
    <script src="scripts/Controllers/scrollController.js"></script>
    <script src="scripts/Controllers/contentController.js"></script>
    <script src="scripts/Controllers/signupController.js"></script>
    <script src="scripts/Controllers/uploadController.js"></script>
    <script src="scripts/Controllers/loginController.js"></script>
    <script src="scripts/Controllers/mainController.js"></script>
    <script src="scripts/Controllers/fileTypeController.js"></script>
    <script src="scripts/Controllers/imageController.js"></script>
    <script src="scripts/Controllers/searchController.js"></script>
    <script src="scripts/Services/ajaxFactory.js"></script>
    <script src="scripts/Services/shareDataService.js"></script>
    <script src="scripts/Directives/registerModal.js"></script>
    <script src="scripts/Directives/loginModal.js"></script>
    <script src="scripts/Directives/showContent.js"></script>
    <script src="scripts/Directives/navbar.js"></script>
    <script src="scripts/Directives/uploadModal.js"></script>
    <script src="scripts/Directives/searchModal.js"></script>
    <script src="scripts/Directives/forgotPasswordModal.js"></script>
    <script src="scripts/Directives/shareButtons.js"></script>
    <script src="scripts/Controllers/commentController.js"></script>
    <script src="scripts/Controllers/addCommentController.js"></script>
    <script src="scripts/Controllers/likeController.js"></script>
    <script src="scripts/Config/config.js"></script>

</body>

</html>